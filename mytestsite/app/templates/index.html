{% extends "base_generic.html" %}

{% block content %}






<h1>Local Library Home</h1>

<p>Welcome to <em>LocalLibrary</em>, a very basic Django website developed as a <a href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Django/Tutorial_local_library_website">tutorial example</a> on the Mozilla Developer Network.</p>
<p>The tutorial demonstrates how to create a Django skeleton website and application, define URL mappings, views (including Generic List and Detail Views), models and templates.</p>


<h2>UML Models</h2>
<p>An UML diagram of the site's Django model structure is shown below. </p>

<div>
{% load static %}
<img src="{% static 'images/local_library_model_uml.png' %}" alt="My image" width="600px">
</div>  


<h2>Dynamic content</h2>

<p>The library has the following record counts:</p>
<ul>
<li><strong>Books:</strong> {{ num_books }}</li>
<li><strong>Copies:</strong> {{ num_instances }}</li>
<li><strong>Copies available:</strong> {{ num_instances_available }}</li>
<li><strong>Authors:</strong> {{ num_authors }}</li>
</ul>


<p>You have visited this page {{ num_visits }} time{{ num_visits|pluralize }}.</p>


<div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

<img id="drag1" src="{% static 'images/logo_atlasea_Tracker-removebg-preview.png' %}" alt="My image" draggable="true" ondragstart="drag(event)">



<div class="container">
    <div id="dragTable" class="panel panel-default" style="cursor:move">
      <div class="panel-heading">Table</div>
      <div class="panel-body">
<div class="table-container">
    <table>
        <thead>
            <tr>
                <th>test</th>
                <th>Header 1</th>
                <th>Header 2</th>
                <th>Header 3</th>
                <th>Header 4</th>
                <th>Header 5</th>
                <th>Header 6</th>
                <th>Header 7</th>
                <th>Header 8</th>
                <th>Header 9</th>
                <th>Header 10</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>Row 1</th>
                <td>Cell 1</td>
                <td>Cell 2</td>
                <td>Cell 3</td>
                <td>Cell 4</td>
                <td>Cell 5</td>
                <td>Cell 6</td>
                <td>Cell 7</td>
                <td>Cell 8</td>
                <td>Cell 9</td>
                <td>Cell 10</td>
            </tr>
            <tr>
                <th>Row 2</th>
                <td>Cell 1</td>
                <td>Cell 2</td>
                <td>Cell 3</td>
                <td>Cell 4</td>
                <td>Cell 5</td>
                <td>Cell 6</td>
                <td>Cell 7</td>
                <td>Cell 8</td>
                <td>Cell 9</td>
                <td>Cell 10</td>
            </tr>
            <tr>
                <th>Row 1</th>
                <td>Cell 1</td>
                <td>Cell 2</td>
                <td>Cell 3</td>
                <td>Cell 4</td>
                <td>Cell 5</td>
                <td>Cell 6</td>
                <td>Cell 7</td>
                <td>Cell 8</td>
                <td>Cell 9</td>
                <td>Cell 10</td>
            </tr>
            <tr>
                <th>Row 3</th>
                <td>Cell 1</td>
                <td>Cell 2</td>
                <td>Cell 3</td>
                <td>Cell 4</td>
                <td>Cell 5</td>
                <td>Cell 6</td>
                <td>Cell 7</td>
                <td>Cell 8</td>
                <td>Cell 9</td>
                <td>Cell 10</td>
            </tr>
            <tr>
                <th>Row 4</th>
                <td>Cell 1</td>
                <td>Cell 2</td>
                <td>Cell 3</td>
                <td>Cell 4</td>
                <td>Cell 5</td>
                <td>Cell 6</td>
                <td>Cell 7</td>
                <td>Cell 8</td>
                <td>Cell 9</td>
                <td>Cell 10</td>
            </tr>
            <!-- Ajoutez d'autres lignes ici -->
        </tbody>
    </table>
</div>
</div>
</div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">Table</div>
    <div class="panel-body"></div></div>
<!-- <div class="container-fluid" style="background-color: lightblue; width: 500px; height:100px"}> -->
    <!-- <div class="row">
        <div class="col" style="width: 50px">A</div>
        <div class="col" style="width: 50px">B</div>
        <div class="col" style="width: 50px">C</div>
        <div class="col" style="width: 50px">D</div>
        <div class="col" style="width: 50px">E</div>
    </div>
    <div class="row ">
        <div class="col"> 
            <div class="row"><div class="col" style="width: 50px">A1</div></div>
            <div class="row"><div class="col" style="width: 50px">A2</div></div>
        </div>
        <div class="col" style="overflow: scroll;">
            <div class="row">
                <div class="col" style="width: 50px">B1</div>
                <div class="col" style="width: 50px">C1</div>
                <div class="col" style="width: 50px">D1</div>
                <div class="col" style="width: 50px">E1</div>
                <div class="col" style="width: 50px">E1</div>
                <div class="col" style="width: 50px">E1</div>
                <div class="col" style="width: 50px">E1</div>
            </div>
            <div class="row">
                <div class="col" style="width: 50px">B2</div>
                <div class="col" style="width: 50px">C2</div>
                <div class="col" style="width: 50px">D2</div>
                <div class="col" style="width: 50px">E2</div>
                <div class="col" style="width: 50px">E1</div>
                <div class="col" style="width: 50px">E1</div>
                <div class="col" style="width: 50px">E1</div>
            </div>
        </div>
    </div>

    
</div>
</div> -->
<script>
    function allowDrop(ev) {
      console.log("allow drop")
      ev.preventDefault();
    }
    
    function drag(ev) {
      console.log("drag")
      ev.dataTransfer.setData("text", ev.target.id);
    }
    
    function drop(ev) {
      console.log(drop)
      ev.preventDefault();
      var data = ev.dataTransfer.getData("text");
      ev.target.appendChild(document.getElementById(data));
    }

    const table = document.getElementById('dragTable');

    table.addEventListener('dragstart', function (event) {
    // Stockez le contenu HTML de la table dans les données transférées
    event.dataTransfer.setData('text/html', table.outerHTML);
    });

    table.addEventListener('dragend', function (event) {
  // Lorsque l'utilisateur relâche l'élément, ouvrez un nouvel onglet
  const newTab = window.open('', '_blank');

  // Ajoutez du contenu HTML dans le nouvel onglet, ici la table
  if (newTab) {
    const tableHTML = event.dataTransfer.getData('text/html');
    console.log("tableHTML", tableHTML)
    newTab.document.write(`
      <html>
        <head>
          <title>Table</title>
        </head>
        <body>${tableHTML}</body>
      </html>
    `);
    newTab.document.close();
  }
});
</script>
   

{% endblock %}